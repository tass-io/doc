# Local Scheduler

| Components | Features                                                     | Data Structures                                    | Remarks                        |
| ---------- | ------------------------------------------------------------ | -------------------------------------------------- | ------------------------------ |
| 本地调度器 | 1. 保存工作流的 Metadata，负责执行业务流程，接收和发送中间数据；<br/>2. 业务流程调度策略；<br>3. 创建和删除进程，进程层面的 auto-scaling。 | 1. 描述业务流程的元数据；<br>2. 进程管理的元数据。 | 本地调度器与本地缓存为同一进程 |
| 本地缓存   | 1. 用于存储临时数据；                                        | 1. KV 数据库                                       | 只需要满足数据读写             |

## Architecture

### Local Scheduler

* 一个 Workflow 模型模块，用来记录当前的 workflow 的模型，更新模型 metadata；
* 一个监控模块，用来监控每个进程的创建时间开销，任务耗费时间；
* 一个调度模块，负责调度 workflow 下的 task（创建和删除，扩缩容；
  * 需要考虑跨 pod 的情况的解决方案。

### Local Cache

* 本质上提供两个接口，Set 和 Get。